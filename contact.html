<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/navbar.css" />
  <link rel="stylesheet" href="css/contact.css" />
  <title>Contact Us — Sweet Africa Global LLC</title>
</head>
<body>
  <!-- pull in your navbar -->
  <div data-include="navbar.html"></div>

  <section id="contact" class="py-12 bg-gray-100">
    <div class="container mx-auto px-4">
      <div class="contact-card mx-auto">
        <h2 class="text-3xl font-bold text-center mb-6">Contact Us</h2>
        <form name="contact" id="contact-form">
          <div id="contact-feedback" class="mb-4 text-center"></div>

          <div class="form-group mb-4">
            <label for="contact-name" class="block font-medium mb-1">Name *</label>
            <input id="contact-name" name="name" class="form-control w-full" placeholder="Your full name" required>
          </div>
          <div class="form-group mb-4">
            <label for="contact-email" class="block font-medium mb-1">E-mail *</label>
            <input id="contact-email" name="email" type="email" class="form-control w-full" placeholder="you@example.com" required>
          </div>
          <div class="form-group mb-4">
            <label for="contact-phone" class="block font-medium mb-1">Contact Number *</label>
            <input id="contact-phone" name="phone" class="form-control w-full" placeholder="+1 (123) 456-7890" required>
          </div>
          <div class="form-group mb-6">
            <label for="contact-message" class="block font-medium mb-1">Message *</label>
            <textarea id="contact-message" name="message" class="form-control w-full" placeholder="How can we help?" required></textarea>
          </div>

          <button type="submit" class="btn btn-submit w-full">Submit</button>
        </form>
      </div>
    </div>
  </section>

  <script src="js/includes.js" defer></script>
  <script type="module" src="js/main.js" defer></script>
  <!-- inline script to hijack submit and show feedback -->
  <script>
    document.addEventListener("includesLoaded", () => {
      const form = document.getElementById("contact-form"),
            feedback = document.getElementById("contact-feedback");

      form.addEventListener("submit", async e => {
        e.preventDefault();
        feedback.textContent = "";      // clear old
        const btn = form.querySelector("button[type=submit]");
        btn.disabled = true;

        const data = new URLSearchParams(new FormData(form));
        try {
          const res = await fetch("/.netlify/functions/send-discord", {
            method: "POST",
            body: data
          });
          if (!res.ok) throw new Error(await res.text());
          feedback.style.color = "green";
          feedback.textContent = "✅ Your message has been sent!";
          form.reset();
        } catch (err) {
          console.error(err);
          feedback.style.color = "red";
          feedback.textContent = "❌ Oops, something went wrong.";
        } finally {
          btn.disabled = false;
        }
      });
    });
  </script>
</body>
</html>